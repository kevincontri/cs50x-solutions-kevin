<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, width=device-width">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
        <link href="{{ url_for('static', filename='styles.css') }}" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,600&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link href="/static/hospital.png" rel="icon">
        <title>Fiftyville's Hospital: {% block title %}{% endblock %}</title>
    </head>

    <body>
        <nav class="navbar navbar-light bg-white border-bottom px-3">
            <span>
                <a class="navbar-brand mb-0 h1" href="/">üè• Fiftyville Hospital</a>
            </span>

            {% if session.get("user_id") %}
                <a href="{{ url_for('logout') }}" class="btn btn-outline-danger btn-sm">Logout</a>
            {% endif %}
        </nav>

        {% block body %}


        {% endblock %}
        <script>
            const el = document.getElementById("serverStatus")
            const div = document.getElementById("serverDiv")

            function updateStatus() {
                if (navigator.onLine) {
                    el.textContent = "Online";
                    el.style.color = "green";
                    div.classList.remove("danger-alert-glass");
                    div.classList.add("alert", "success-alert-glass");
                } else {
                    el.textContent = "Offline";
                    el.style.color = "red";
                    div.classList.remove("success-alert-glass");
                    div.classList.add("alert", "danger-alert-glass");
                }
            }

            window.addEventListener("online", updateStatus);
            window.addEventListener("offline", updateStatus);
            updateStatus();

            function disableSubmit(form) {
                const btn = form.querySelector("button, input[type=submit]");
                if (btn) {
                    btn.disabled = true;
                    btn.textContent = "Submitting...";
                }
            }
        </script>
    </body>

</html>
